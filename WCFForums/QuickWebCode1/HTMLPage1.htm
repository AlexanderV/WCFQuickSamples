<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Quick template</title>
    <link href="scripts/themes/ui-lightness/jquery-ui.css" rel="Stylesheet" type="text/css" />
    <script type="text/javascript" src="scripts/jquery-1.7.2.js"></script>
    <script type="text/javascript" src="scripts/jquery-ui-1.8.20.js"></script>
    <script type="text/javascript" src="scripts/json2.js"></script>
</head>
<body>
    <script type="text/javascript">
        function StackOverflow_15001755_Test() {
            function dictionaryToKVPArray(obj) {
                var data = [];
                for (var key in obj) {
                    data.push({ Key: key, Value: obj[key] });
                }

                return data;
            }

            function KVPArrayToDictionary(arr) {
                var result = {};
                arr.forEach(function (item) {
                    result[item.Key] = item.Value;
                });

                return result;
            }

            var map = {};
            map['a'] = 1;
            map['b'] = 2;
            map['c'] = 3;
            var data = dictionaryToKVPArray(map);

            var baseUrl = "/StackOverflow_15001755.svc";
            $.ajax({
                type: 'POST',
                url: baseUrl + '/setDictionary',
                contentType: 'application/json',
                data: JSON.stringify({ myDictionary: data }),
                success: function (result) {
                    $('#result').text('Sent the dictionary');
                    $.ajax({
                        type: 'GET',
                        url: baseUrl + '/getDictionary',
                        success: function (result) {
                            var newMap = KVPArrayToDictionary(result);
                            $('#result2').text(JSON.stringify(newMap));
                        }
                    });
                }
            });
        }

        function StackOverflow_11105856_Test() {
            var url = "/StackOverflow_11105856.svc/UpdateEmployee";
            var data = {
                Name: "John Doe",
                Department: "Accounting",
                Salary: 50000,
                Hired: $("#StackOverflow_11105856_datepicker").val()
            };
            $.ajax({
                type: 'POST',
                url: url,
                contentType: "application/json",
                data: JSON.stringify({ Employee: data }),
                success: function (result) {
                    $("#result").text(result.UpdateEmployeeResult);
                }
            });
        }

        function StackOverflow_11090835_Test() {
            var url = "/StackOverflow_11090835.svc/ReturnData";
            var data = { s: "Hello world" };
            $.ajax({
                type: 'GET',
                url: url,
                data: data,
                dataType: "jsonp",
                success: function (result) {
                    $("#result").text(result.Status);
                }
            });
        }

        function StackOverflow_10721469_Test() {
            var url = "/StackOverflow_10721469.svc/blockActivityTrans";
            $.ajax({
                type: 'POST',
                url: url,
                contentType: "application/json",
                data: "{}",
                success: function (data, textStatus, jqXHR) {
                    $("#result").text(data.Logs);
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    $("#result").text("error");
                }
            });
        }

        function StackOverflow_8537634_Test() {
            var url = "/StackOverflow_8537634.svc/SaveUserData";
            $.ajax({
                type: "POST",
                contentType: "application/json; charset=utf-8",
                url: url,
                data: '{"userInfo":{"EmailID":"praveen", "LevelID": 1}}',
                dataType: "json",
                processData: false,
                success: function (data, textStatus, jqXHR) {
                    $("#result").text(data);
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    $("#result").text("error");
                }
            });
        }

        function Post_ca5941b4_bfcf_4546_a418_cc91a321c2fb_Basic() {
            var url = "/Post_ca5941b4_bfcf_4546_a418_cc91a321c2fb.svc";
            var request = "<s:Envelope xmlns:s=\"http://schemas.xmlsoap.org/soap/envelope/\">" +
                    "<s:Body>" +
                        "<Add xmlns=\"http://tempuri.org/\">" +
                            "<x>5</x><y>7</y>" +
                        "</Add>" +
                    "</s:Body>" +
                "</s:Envelope>";
            $.ajax({
                type: "POST",
                url: url,
                data: request,
                contentType: "text/xml",
                beforeSend: function (xhr) {
                    xhr.setRequestHeader(
                        "SOAPAction",
                        "http://tempuri.org/IService1/Add");
                },
                success: function (data, textStatus, jqXHR) {
                    $("#result").text(jqXHR.responseText);
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    $("#result").text("error");
                }
            });
        }

        function Post_ca5941b4_bfcf_4546_a418_cc91a321c2fb_WS() {
            var url = "/Post_ca5941b4_bfcf_4546_a418_cc91a321c2fb.svc/ws";
            var request = "<s:Envelope " +
        "xmlns:s=\"http://www.w3.org/2003/05/soap-envelope\" " +
        "xmlns:a=\"http://www.w3.org/2005/08/addressing\">" +
    "<s:Header>" +
        "<a:Action s:mustUnderstand=\"1\">http://tempuri.org/IService1/Add</a:Action>" +
        "<a:MessageID>urn:uuid:9cc71731-811b-4baa-9db3-e6faa9a1c347</a:MessageID>" +
        "<a:ReplyTo><a:Address>http://www.w3.org/2005/08/addressing/anonymous</a:Address></a:ReplyTo>" +
        "<a:To s:mustUnderstand=\"1\">http://localhost:17660/Post_ca5941b4_bfcf_4546_a418_cc91a321c2fb.svc/ws</a:To>" +
    "</s:Header>" +
    "<s:Body>" +
        "<Add xmlns=\"http://tempuri.org/\">" +
            "<x>44</x>" +
            "<y>55</y>" +
        "</Add>" +
    "</s:Body>" +
"</s:Envelope>";
            $.ajax({
                type: "POST",
                url: url,
                data: request,
                contentType: "application/soap+xml",
                success: function (data, textStatus, jqXHR) {
                    $("#result").text(jqXHR.responseText);
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    $("#result").text("error");
                }
            });
        }

        function Post_a72c9431_ce05_43c7_be9e_4aa514c842d7(useJsonP) {
            var url = "/Post_a72c9431_ce05_43c7_be9e_4aa514c842d7.svc/Add";
            var dataType = useJsonP ? "jsonp" : "json";
            $.ajax({
                type: "GET",
                url: url,
                data: {x:4, y:7},
                dataType: dataType,
                success: function (data, textStatus, jqXHR) {
                    $("#result").text(data);
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    $("#result").text("error");
                }
            });
        }

        function SO_10463359_SwapButtons(show1) {
            document.getElementById('imageButton1').style.visibility = show1 ? 'visible' : 'hidden';
            document.getElementById('imageButton2').style.visibility = show1 ? 'hidden' : 'visible';
        }

        function StackOverflow_13345557_Test(passParameters) {
            var baseUrl = "/StackOverflow_13345557.svc";
            var cacheBuster = new Date().getTime(); // to prevent cached response; development only
            var url;
            if (passParameters) {
                url = baseUrl + "/PingWithParameters?a=123&b=john+doe&_=" + cacheBuster;
            } else {
                url = baseUrl + "/Ping?_=" + cacheBuster;
            }
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4) {
                    document.getElementById("result").innerText = xhr.responseText;
                }
            }

            xhr.open('GET', url, true);
            xhr.send();
        }
    </script>
    <input type="button" value="StackOverflow 8537634" onclick="StackOverflow_8537634_Test();" /> <br />
    <input type="button" value="StackOverflow 10721469" onclick="StackOverflow_10721469_Test();" /> <br />
    <input type="button" value="StackOverflow 11090835" onclick="StackOverflow_11090835_Test();" /><br />
    <input id="StackOverflow_11105856_datepicker" type="text" /> <input type="button" value="StackOverflow 11105856" onclick="StackOverflow_11105856_Test();" /><br />
    <input type="button" value="MSDN ca5941b4-bfcf-4546-a418-cc91a321c2fb - Basic" onclick="Post_ca5941b4_bfcf_4546_a418_cc91a321c2fb_Basic();" /><br />
    <input type="button" value="MSDN ca5941b4-bfcf-4546-a418-cc91a321c2fb - WS" onclick="Post_ca5941b4_bfcf_4546_a418_cc91a321c2fb_WS();" /><br />
    <input type="button" value="MSDN a72c9431-ce05-43c7-be9e-4aa514c842d7 - Normal" onclick="Post_a72c9431_ce05_43c7_be9e_4aa514c842d7(false);" /><br />
    <input type="button" value="MSDN a72c9431-ce05-43c7-be9e-4aa514c842d7 - JSONP" onclick="Post_a72c9431_ce05_43c7_be9e_4aa514c842d7(true);" /><br />
    <input type="button" value="StackOverflow 13345557 (no params)" onclick="StackOverflow_13345557_Test(false);" /><br />
    <input type="button" value="StackOverflow 13345557 (with params)" onclick="StackOverflow_13345557_Test(true);" /><br />
    <img alt="image1" src="images/1.png" id="imageButton1" onclick="SO_10463359_SwapButtons(false);" style="border: 2; visibility: visible;" />
    <img alt="image2" src="images/2.png" id="imageButton2" onclick="SO_10463359_SwapButtons(true);" style="border: 2; visibility: hidden;" /><br />
    <input type="button" value="StackOverflow 15001755" onclick="StackOverflow_15001755_Test();" /><br />
    <div id='result'></div><br />
    <div id='result2'></div><br />

    <script type="text/javascript">
        // Initialization
        $("#StackOverflow_11105856_datepicker").datepicker();
    </script>
</body>
</html>
